;;; 80 characters wide please ;;;;;;;;;;;;;;;;;;;;;;;;;; 8-space tabs please ;;;


;
;;;
;;;;;  TashFloppy Receiver
;;;
;


;;; Connections ;;;

;See pinout.py in parent directory for pin assignments


;;; Assembler Directives ;;;

	list		P=PIC16F1704, F=INHX32, ST=OFF, MM=OFF, R=DEC, X=ON
	#include	P16F1704.inc
	errorlevel	-302	;Suppress "register not in bank 0" messages
	errorlevel	-224	;Suppress TRIS instruction not recommended msgs
	__config	_CONFIG1, _FOSC_INTOSC & _WDTE_OFF & _PWRTE_ON & _MCLRE_OFF & _CP_OFF & _BOREN_OFF & _CLKOUTEN_OFF & _IESO_OFF & _FCMEN_OFF
			;_FOSC_INTOSC	Internal oscillator, I/O on RA5
			;_WDTE_OFF	Watchdog timer disabled
			;_PWRTE_ON	Keep in reset for 64 ms on start
			;_MCLRE_OFF	RA3/!MCLR is RA3
			;_CP_OFF	Code protection off
			;_BOREN_OFF	Brownout reset off
			;_CLKOUTEN_OFF	CLKOUT disabled, I/O on RA4
			;_IESO_OFF	Internal/External switch not needed
			;_FCMEN_OFF	Fail-safe clock monitor not needed
	__config	_CONFIG2, _WRT_OFF & _PPS1WAY_OFF & _ZCDDIS_ON & _PLLEN_ON & _STVREN_ON & _LVP_OFF
			;_WRT_OFF	Write protection off
			;_PPS1WAY_OFF	PPS can change more than once
			;_ZCDDIS_ON	Zero crossing detector disabled
			;_PLLEN_ON	4x PLL on
			;_STVREN_ON	Stack over/underflow causes reset
			;_LVP_OFF	High-voltage on Vpp to program


;;; Macros ;;;

DELAY	macro	value		;Delay 3*W cycles, set W to 0
	movlw	value
	decfsz	WREG,F
	bra	$-1
	endm

DNOP	macro
	bra	$+1
	endm


;;; Pin Assignments ;;;

	#include	receiver_pinout.inc	;Generated by pinout.py


;;; Constants ;;;

;FLAGS:
MFMMODE	equ	7	;Set when drive MFMMODE signal is high
DATMODE	equ	6	;Set when mainline is in data mode

;UART protocol bytes:
;Break character indicates exiting data mode
;Bytes where MSb is clear indicate stepping to new track
UPMOFF	equ	0x80	;Motor off
UPMON	equ	0x81	;Motor on
UPGCR	equ	0x82	;GCR mode
UPMFM	equ	0x83	;MFM mode
UPSEL0	equ	0x84	;SEL falling edge
UPSEL1	equ	0x85	;SEL rising edge
UPDATA0	equ	0x86	;Enter data mode on head 0
UPDATA1	equ	0x87	;Enter data mode on head 1
UPEJECT	equ	0x8E	;Eject disk


;;; Variable Storage ;;;

	cblock	0x70	;Bank-common registers
	
	FLAGS	;You've got to have flags
	TRACK	;Current track where head is placed
	X13
	X12
	X11
	X10
	X9
	X8
	X7
	X6
	X5
	X4
	X3
	X2
	X1
	X0
	
	endc


;;; Vectors ;;;

	org	0x0		;Reset vector
	movlp	high Init
	goto	Init

	org	0x4		;Interrupt vector
	;fall through


;;; Interrupt Handler ;;;

Interrupt
	movlb	0		;Grab the command port as early as possible in
	movf	CMD_PORT,W	; case CA3 was pulsed
	movlp	0		;We might be interrupting from receive
	movlb	7		;If CA3 was pulsed, handle it
	btfsc	CA3_IOCF,CA3_PIN; "
	call	IntCa3		; "
	movlb	7		;If !WRREQ changed state, handle it
	btfsc	NWQ_IOCF,NWQ_PIN; "
	call	IntNWrreq	; "
	retfie			;Done

IntNWrreq
	bcf	NWQ_IOCF,NWQ_PIN;Clear the interrupt
	movlb	0		;If !ENBL is high, this !WRREQ change is not for
	btfsc	NEN_PORT,NEN_PIN; us, so return
	return			; "
	btfss	NWQ_PORT,NWQ_PIN;If !WRREQ is now low, skip ahead
	bra	IntNWrreqFalling; "
	;fall through		;Else fall through

IntNWrreqRising
	btfss	FLAGS,DATMODE	;If we're not in data mode, don't act on this
	return			; change
	bcf	FLAGS,DATMODE	;Exit data mode
	movlb	3		;Just in case, make sure UART isn't transmitting
	btfss	TXSTA,TRMT	; because we're about to send a break
	bra	$-1		; "
	bsf	RCSTA,CREN	;Reenable the UART receiver
	bsf	TXSTA,SENDB	;Send break character
	clrf	TXREG		; "
	movlb	31		;Clear out the stack and return to WaitCommand
	clrf	STKPTR		; "
	movlw	high WaitCommand; "
	movwf	TOSH		; "
	movlw	low WaitCommand	; "
	movwf	TOSL		; "
	clrf	PCLATH_SHAD	; "
	retfie			; "

IntNWrreqFalling
	btfsc	FLAGS,DATMODE	;If we're already in data mode, don't act on
	return			; this change
	bsf	FLAGS,DATMODE	;Enter data mode
	movlb	3		;Just in case, make sure UART isn't transmitting
	btfss	TXSTA,TRMT	; "
	bra	$-1		; "
	movlb	0		;Check and signal entry of data mode and state
	movlw	UPDATA0		; of SEL pin to host
	btfsc	SEL_PORT,SEL_PIN; "
	movlw	UPDATA1		; "
	movwf	INDF1		; "
	movlb	3		;Disable the UART receiver so it doesn't get
	bcf	RCSTA,CREN	; wedged from remaining data from frontend
	movlb	31		;Clear out the stack and 'return' to the
	clrf	STKPTR		; receiver for GCR or MFM as appropriate
	movlw	high GcrRecvFDD	; "
	btfsc	FLAGS,MFMMODE	; "
	movlw	high RecvMfm	; "
	movwf	TOSH		; "
	movwf	PCLATH_SHAD	; "
	movlw	low GcrRecvFDD	; "
	btfsc	FLAGS,MFMMODE	; "
	movlw	low RecvMfm	; "
	movwf	TOSL		; "
	retfie			; "

IntCa3
	bcf	CA3_IOCF,CA3_PIN;Clear the interrupt
	movlb	0		;If !ENBL is high, this CA3 pulse is not for us,
	btfsc	NEN_PORT,NEN_PIN; so return
	return			; "
	iorlw	B'11000000'	;Translate the command port read into a command
	movlp	high PortToCmd	; "
	callw			; "
	movlp	0		; "
	movlb	30		;Switch to CLC bank, common need among commands
	brw			;CA2 CA1 CA0 SEL Effect
	bra	IntCa3DirtnLow	;0   0   0   0   Set !DIRTN low
	return			;0   0   0   1   none
	bra	IntCa3Step	;0   0   1   0   Step drive heads
	bra	IntCa3MfmMode	;0   0   1   1   Select MFM mode
	bra	IntCa3MotorOn	;0   1   0   0   Turn motor on
	return			;0   1   0   1   none
	return			;0   1   1   0   none
	return			;0   1   1   1   none
	bra	IntCa3DirtnHigh	;1   0   0   0   Set !DIRTN high
	return			;1   0   0   1   Reset SWITCHED to low (ignore)
	return			;1   0   1   0   none
	bra	IntCa3GcrMode	;1   0   1   1   Select GCR mode
	bra	IntCa3MotorOff	;1   1   0   0   Turn motor off
	return			;1   1   0   1   none
	bra	IntCa3Eject	;1   1   1   0   Eject disk
	return			;1   1   1   1   none

IntCa3DirtnLow
	bcf	CLC1GLS0,6	;Set !DIRTN low
	return			;Done

IntCa3Step
	bcf	CLC1GLS2,6	;Set !STEP low
	btfsc	CLC1GLS0,6	;If !DIRTN is high (decrement track, toward
	bra	ICStep0		; rim), skip ahead
	bsf	CLC2GLS0,7	;Set !TK0 high
	incf	TRACK,F		;Increment track
	movf	TRACK,W		;If we hit track 80, go back to 79
	xorlw	80		; "
	btfsc	STATUS,Z	; "
	decf	TRACK,F		; "
	btfsc	FLAGS,DATMODE	;If we're in data mode for some reason, don't
	return			; signal host (hopefully this doesn't happen)
	movf	TRACK,W		;Signal to host that we've stepped to this track
	movwf	INDF1		; "
	return			;Done
ICStep0	movf	TRACK,W		;If track is not already 0, decrement it
	btfss	STATUS,Z	; "
	decf	TRACK,F		; "
	btfsc	STATUS,Z	;If track is zero, set !TK0 low
	bcf	CLC2GLS0,7	; "
	btfsc	FLAGS,DATMODE	;If we're in data mode for some reason, don't
	return			; signal host (hopefully this doesn't happen)
	movf	TRACK,W		;Signal to host that we've stepped to this track
	movwf	INDF1		; "
	return			;Done

IntCa3MfmMode
	bsf	FLAGS,MFMMODE	;Set internal MFMMODE flag high
	btfsc	FLAGS,DATMODE	;If we're in data mode for some reason, don't
	return			; signal host (hopefully this doesn't happen)
	movlw	UPMFM		;Signal to host that we're now in MFM mode
	movwf	INDF1		; "
	return			;Done

IntCa3MotorOn
	bcf	CLC2GLS0,6	;Set !MOTORON low
	btfsc	FLAGS,DATMODE	;If we're in data mode for some reason, don't
	return			; signal host (hopefully this doesn't happen)
	movlw	UPMON		;Signal to host that motor is now on
	movwf	INDF1		; "
	return			;Done

IntCa3DirtnHigh
	bsf	CLC1GLS0,6	;Set !DIRTN high
	return			;Done

IntCa3GcrMode
	bcf	FLAGS,MFMMODE	;Set internal MFMMODE flag low
	btfsc	FLAGS,DATMODE	;If we're in data mode for some reason, don't
	return			; signal host (hopefully this doesn't happen)
	movlw	UPGCR		;Signal to host that we're now in GCR mode
	movwf	INDF1		; "
	return			;Done

IntCa3MotorOff
	bsf	CLC2GLS0,6	;Set !MOTORON high
	btfsc	FLAGS,DATMODE	;If we're in data mode for some reason, don't
	return			; signal host (hopefully this doesn't happen)
	movlw	UPMOFF		;Signal to host that motor is now off
	movwf	INDF1		; "
	return			;Done

IntCa3Eject
	bsf	CLC1GLS0,7	;Set !CSTIN high
	bcf	CLC1GLS2,7	;Set !WRPROT low
	btfsc	FLAGS,DATMODE	;If we're in data mode for some reason, don't
	return			; signal host (hopefully this doesn't happen)
	movlw	UPEJECT		;Signal to host that disk was ejected
	movwf	INDF1		; "
	return			;Done


;;; Hardware Initialization ;;;

Init
	banksel	OSCCON		;32 MHz (w/PLL) high-freq internal oscillator
	movlw	B'11110000'
	movwf	OSCCON

	banksel	RCSTA		;UART async mode, 1 MHz, receiver not enabled
	movlw	B'01001000'	; just yet
	movwf	BAUDCON
	clrf	SPBRGH
	movlw	7
	movwf	SPBRGL
	movlw	B'00100100'
	movwf	TXSTA
	movlw	B'10000000'
	movwf	RCSTA

	banksel	CLC1CON		;CLC1:
	movlw	B'00010';CLCIN2	;If CLCIN2 (CA0) is low, output is:
	movwf	CLC1SEL2; (CA0)	; !DIRTN     !CSTIN      Output   CLC1GLS0
	movlw	B'00011';CLCIN3	; (SEL low)  (SEL high)
	movwf	CLC1SEL3; (SEL)	; 0          0           0        00000000
	movlw	B'11000000'	; 0          1           SEL      10000000
	movwf	CLC1GLS0	; 1          0           NOT SEL  01000000
	movlw	B'00010000'	; 1          1           1        11000000 (def)
	movwf	CLC1GLS1	;If CLCIN2 (CA0) is high, output is:
	movlw	B'11000000'	; !STEP      !WRPROT     Output   CLC1GLS2
	movwf	CLC1GLS2	; (SEL low)  (SEL high)
	movlw	B'00100000'	; 0          0           0        00000000
	movwf	CLC1GLS3	; 0          1           SEL      10000000
	clrf	CLC1POL		; 1          0           NOT SEL  01000000
	movlw	B'10000000'	; 1          1           1        11000000 (def)
	movwf	CLC1CON
	clrf	CLC2SEL1;CLCIN0	;CLC2:
	movlw	B'00010';CLCIN2	;If CLCIN2 (CA0) is low, output is:
	movwf	CLC2SEL2; (CA0)	; !MOTORON   !TK0        Output   CLC2GLS0
	movlw	B'00011';CLCIN3	; (SEL low)  (SEL high)
	movwf	CLC2SEL3; (SEL)	; 0          0           0        00000000
	movlw	B'11000000'	; 0          1           SEL      10000000
	movwf	CLC2GLS0	; 1          0           NOT SEL  01000000
	movlw	B'00010000'	; 1          1           1        11000000 (def)
	movwf	CLC2GLS1	;If CLCIN2 (CA0) is high, output is LC3OUT from
	movlw	B'00001000'	; DCD transmitter (CLCIN0)
	movwf	CLC2GLS2
	movlw	B'00100000'
	movwf	CLC2GLS3
	clrf	CLC2POL
	movlw	B'10000000'
	movwf	CLC2CON
	movlw	B'00001';CLCIN1	;CLC3:
	movwf	CLC3SEL1; (CA1)	;If CLCIN1 (CA1) is low, output is LC1OUT
	movlw	B'00100';LC1OUT	;If CLCIN1 (CA1) is high, output is LC2OUT
	movwf	CLC3SEL2
	movlw	B'00101';LC2OUT
	movwf	CLC3SEL3
	movlw	B'00100000'
	movwf	CLC3GLS0
	movlw	B'00000100'
	movwf	CLC3GLS1
	movlw	B'10000000'
	movwf	CLC3GLS2
	movlw	B'00001000'
	movwf	CLC3GLS3
	clrf	CLC3POL
	movlw	B'10000000'
	movwf	CLC3CON

	banksel	OPTION_REG	;INT (!WR) pin interrupt triggers on falling
	movlw	B'10111111'	; edge for MFM receiver
	movwf	OPTION_REG

	banksel	IOCAP		;CA3 interrupts on rising edge, !WRREQ on either
	bsf	CA3_IOCP,CA3_PIN
	bsf	NWQ_IOCP,NWQ_PIN
	bsf	NWQ_IOCN,NWQ_PIN

	banksel	ANSELA		;All pins digital, not analog
	clrf	ANSELA
	clrf	ANSELC

	banksel	INLVLA		;All inputs TTL, not ST
	clrf	INLVLA
	clrf	INLVLC

	banksel	RA0PPS		;Set up PPS outputs
	movlw	B'00110';LC3OUT
	movwf	CTD_PPS
	movlw	B'10100';TX
	movwf	TX_PPS

	banksel	CKPPS		;Set up PPS inputs
	movlw	CFD_PPSI
	movwf	CLCIN0PPS
	movlw	CA1_PPSI
	movwf	CLCIN1PPS
	movlw	CA0_PPSI
	movwf	CLCIN2PPS
	movlw	SEL_PPSI
	movwf	CLCIN3PPS
	movlw	NWR_PPSI
	movwf	INTPPS
	movlw	RX_PPSI
	movwf	RXPPS
	movlw	TX_PPSI
	movwf	CKPPS

	banksel	TRISA		;LC3OUT and Tx outputs, all others inputs
	bcf	CTD_PORT,CTD_PIN
	bcf	TX_PORT,TX_PIN

	clrf	FLAGS		;Initialize key globals
	clrf	TRACK
	movlw	high TXREG
	movwf	FSR1H
	movlw	low TXREG
	movwf	FSR1L
	movlw	high IwmToNibble
	movwf	FSR0H

	banksel	OSCSTAT		;Spin until PLL is ready and instruction clock
	btfss	OSCSTAT,PLLR	; gears up to 8 MHz
	bra	$-1

	banksel	RCSTA		;Enable receiver now that PLL is ready
	bsf	RCSTA,CREN

	movlw	B'10001000'	;Interrupt subsystem and interrupt-on-change
	movwf	INTCON		; interrupts on

	;fall through


;;; Mainline ;;;

WaitCommand
	movlb	0		;Spin until a byte comes in over the UART
	btfss	PIR1,RCIF	; "
	bra	$-1		; "
	movlb	3		;Grab the received byte and store it to
	movf	RCREG,W		; reference later
	movwf	X0		; "
	swapf	X0,W		;Switch off based on the high nibble of the
	andlw	B'00001111'	; command byte
	brw			; "
	bra	WaitCommand	;0x0? - invalid
	bra	WaitCommand	;0x1? - invalid
	bra	WaitCommand	;0x2? - invalid
	bra	WaitCommand	;0x3? - invalid
	bra	WaitCommand	;0x4? - invalid
	bra	WaitCommand	;0x5? - invalid
	bra	WaitCommand	;0x6? - invalid
	bra	WaitCommand	;0x7? - invalid
	bra	WaitCommand	;0x8? - invalid
	bra	WaitCommand	;0x9? - invalid
	bra	WaitCommand	;0xA? - invalid
	bra	WaitCommand	;0xB? - invalid
	bra	HwConfig	;0xC? - hardware configuration
	bra	InsertDisk	;0xD? - insert disk
	bra	DataMode	;0xE? - enter data mode
	bra	WaitCommand	;0xF? - invalid

HwConfig
	movf	X0,W		;Switch off based on the low nibble of the
	andlw	B'00001111'	; command byte
	brw			; "
	bra	HwConfigNoDrive	;0xC0 - no drive
	bra	HwConfigYesDrive;0xC1 - 400k drive
	bra	HwConfigYesDrive;0xC2 - 800k drive
	bra	HwConfigYesDrive;0xC3 - superdrive
	bra	WaitCommand	;0xC4 - invalid
	bra	WaitCommand	;0xC5 - invalid
	bra	WaitCommand	;0xC6 - invalid
	bra	WaitCommand	;0xC7 - invalid
	bra	WaitCommand	;0xC8 - invalid
	bra	WaitCommand	;0xC9 - invalid
	bra	WaitCommand	;0xCA - invalid
	bra	WaitCommand	;0xCB - invalid
	bra	WaitCommand	;0xCC - invalid
	bra	WaitCommand	;0xCD - invalid
	bra	WaitCommand	;0xCE - invalid
	bra	WaitCommand	;0xCF - invalid

InsertDisk
	movf	X0,W		;Switch off based on the low nibble of the
	andlw	B'00001111'	; command byte
	brw			; "
	bra	InsertDiskHdRo	;0xD0 - insert HD disk, read-only
	bra	InsertDiskHdRw	;0xD1 - insert HD disk, read-write
	bra	InsertDiskDdRo	;0xD2 - insert DD disk, read-only
	bra	InsertDiskDdRw	;0xD3 - insert DD disk, read-write
	bra	WaitCommand	;0xD4 - invalid
	bra	WaitCommand	;0xD5 - invalid
	bra	WaitCommand	;0xD6 - invalid
	bra	WaitCommand	;0xD7 - invalid
	bra	WaitCommand	;0xD8 - invalid
	bra	WaitCommand	;0xD9 - invalid
	bra	WaitCommand	;0xDA - invalid
	bra	WaitCommand	;0xDB - invalid
	bra	WaitCommand	;0xDC - invalid
	bra	WaitCommand	;0xDD - invalid
	bra	WaitCommand	;0xDE - invalid
	bra	InsertDiskEject	;0xDF - force eject disk

DataMode
	movf	X0,W		;Switch off based on the low nibble of the
	andlw	B'00001111'	; command byte
	brw			; "
	bra	DataModeSink	;0xE0 - auto GCR
	bra	DataModeSink	;0xE1 - raw GCR with random noise
	bra	WaitCommand	;0xE2 - invalid
	bra	WaitCommand	;0xE3 - invalid
	bra	DataModeSink	;0xE4 - auto MFM
	bra	WaitCommand	;0xE5 - invalid
	bra	WaitCommand	;0xE6 - invalid
	bra	WaitCommand	;0xE7 - invalid
	bra	WaitCommand	;0xE8 - invalid
	bra	WaitCommand	;0xE9 - invalid
	bra	WaitCommand	;0xEA - invalid
	bra	WaitCommand	;0xEB - invalid
	bra	WaitCommand	;0xEC - invalid
	bra	WaitCommand	;0xED - invalid
	bra	WaitCommand	;0xEE - invalid
	bra	WaitCommand	;0xEF - invalid

HwConfigNoDrive
	movlb	30		;Set signals for no drive:
	bsf	CLC1GLS0,7	;Set !CSTIN high
	bsf	CLC1GLS0,6	;Set !DIRTN high
	bsf	CLC1GLS2,7	;Set !WRPROT low
	bsf	CLC1GLS2,6	;Set !STEP high
	bsf	CLC2GLS0,6	;Set !MOTORON high
	bsf	CLC2GLS0,7	;Set !TK0 high
	bcf	FLAGS,MFMMODE	;Select GCR mode
	bra	WaitCommand	;Done

HwConfigYesDrive
	movlb	30		;Set initial signals for drive:
	bsf	CLC1GLS0,7	;Set !CSTIN high
	bsf	CLC1GLS0,6	;Set !DIRTN high
	bcf	CLC1GLS2,7	;Set !WRPROT low
	bsf	CLC1GLS2,6	;Set !STEP high
	bcf	CLC2GLS0,7	;Set !TK0 low
	bsf	CLC2GLS0,6	;Set !MOTORON high
	bcf	FLAGS,MFMMODE	;Select GCR mode
	clrf	TRACK		;Select track zero
	bra	WaitCommand	;Done

InsertDiskEject
	movlb	30		;Set signals for no disk:
	bsf	CLC1GLS0,7	;Set !CSTIN high
	bcf	CLC1GLS2,7	;Set !WRPROT low
	bra	WaitCommand	;Done

InsertDiskHdRo
InsertDiskDdRo
	movlb	30		;Set signals for read-only disk:
	bcf	CLC1GLS0,7	;Set !CSTIN low
	bcf	CLC1GLS2,7	;Set !WRPROT low
	bra	WaitCommand	;Done

InsertDiskHdRw
InsertDiskDdRw
	movlb	30		;Set signals for read-write disk:
	bcf	CLC1GLS0,7	;Set !CSTIN low
	bsf	CLC1GLS2,7	;Set !WRPROT high
	bra	WaitCommand	;Done

DataModeSink
	movlb	30		;Set !STEP high
	bsf	CLC1GLS2,6	; "
	movlb	0		;Signal the current state of SEL and look for
	btfsc	SEL_PORT,SEL_PIN; changes
	bra	DMSink3		; "
DMSink0	movlw	UPSEL0		;Signal to host that SEL is low
	movwf	INDF1		; "
DMSink1	movlb	0		;If SEL has gone high, signal to host and switch
	btfsc	SEL_PORT,SEL_PIN; to looking for it to go low again
	bra	DMSink3		; "
	btfss	PIR1,RCIF	;If a byte hasn't come in over the UART yet,
	bra	DMSink1		; loop
	movlb	3		;If there was a framing error (or break
	btfsc	RCSTA,FERR	; character), skip ahead
	bra	DMSink2		; "
	movf	RCREG,W		;Otherwise, read the byte to clear the
	bra	DMSink1		; interrupt, and loop
DMSink2	movf	RCREG,W		;Framing error, so check what byte was received
	btfsc	STATUS,Z	;If it was a zero, this was a break character,
	bra	WaitCommand	; so return to await a command byte, otherwise
	bra	DMSink1		; loop to wait for the next data byte
DMSink3	movlw	UPSEL1		;Signal to host that SEL is high
	movwf	INDF1		; "
DMSink4	movlb	0		;If SEL has gone low, signal to host and switch
	btfss	SEL_PORT,SEL_PIN; to looking for it to go high again
	bra	DMSink0		; "
	btfss	PIR1,RCIF	;If a byte hasn't come in over the UART yet,
	bra	DMSink4		; loop
	movlb	3		;If there was a framing error (or break
	btfsc	RCSTA,FERR	; character), skip ahead
	bra	DMSink5		; "
	movf	RCREG,W		;Otherwise, read the byte to clear the
	bra	DMSink4		; interrupt, and loop
DMSink5	movf	RCREG,W		;Framing error, so check what byte was received
	btfsc	STATUS,Z	;If it was a zero, this was a break character,
	bra	WaitCommand	; so return to await a command byte, otherwise
	bra	DMSink4		; loop to wait for the next data byte


;;; MFM Receiver ;;;

	org	0x400

RecvMfm
	bcf	INTCON,INTF	;Clear flag from any past falling edge
	;fall through

RecvMfmRestart
	btfss	INTCON,INTF	;Wait for a blip as the start of a sync series
	bra	$-1		; "
	bcf	INTCON,INTF	;05 cycles, 0.625 us, 0.306 bit cells
	movlw	-60		;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfmSync	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfmSync	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfmSync	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfmSync	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfmSync	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfmSync	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfmSync	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfmSync	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfmRestart	;Too long between transitions, start over

RecvMfmSync
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	addlw	1		;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	STATUS,Z	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RcvMGot		;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfmSync	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfmSync	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfmSync	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfmSync	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfmSync	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfmSync	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfmSync	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfmRestart	;Too long between transitions, start over

RecvMfmSynced
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfmSynced	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfmSynced	;09 cycles, 1.125 us, 0.551 bit cells
RcvMGot	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfmSynced	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfmSynced	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfmSynced	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfmSynced	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfmSynced	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfmSynced	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm0_1	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm0_1	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm0_1	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm0_1	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm0_0
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	movlw	B'00000000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm1_0	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm1_0	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm1_0	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm1_0	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm1_0	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm1_0	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm1_0	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm1_0	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm1_01	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm1_01	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm1_01	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm1_01	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm0_1
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	movlw	B'10000000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm1_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm1_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm1_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm1_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm1_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm1_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm1_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm1_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm1_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm1_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm1_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm1_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm1_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm1_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm1_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm1_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm0_01
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	movlw	B'01000000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm2_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm2_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm2_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm2_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm2_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm2_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm2_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm2_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm2_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm2_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm2_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm2_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm2_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm2_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm2_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm2_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm1_0
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfm2_0	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm2_0	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm2_0	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm2_0	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm2_0	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm2_0	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm2_0	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm2_0	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm2_0	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm2_01	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm2_01	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm2_01	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm2_01	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm1_1
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'01000000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm2_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm2_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm2_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm2_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm2_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm2_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm2_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm2_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm2_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm2_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm2_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm2_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm2_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm2_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm2_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm2_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm1_01
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00100000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm3_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm3_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm3_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm3_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm3_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm3_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm3_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm3_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm3_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm3_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm3_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm3_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm3_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm3_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm3_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm3_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm2_0
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfm3_0	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm3_0	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm3_0	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm3_0	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm3_0	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm3_0	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm3_0	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm3_0	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm3_0	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm3_01	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm3_01	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm3_01	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm3_01	;31 cycles, 3.875 us, 1.897 bit cells
	btfsc	INTCON,INTF	;32 cycles, 4.000 us, 1.958 bit cells
	goto	RecvMfm3_00	;33 cycles, 4.125 us, 2.020 bit cells
	btfsc	INTCON,INTF	;34 cycles, 4.250 us, 2.081 bit cells
	goto	RecvMfm3_00	;35 cycles, 4.375 us, 2.142 bit cells
	btfsc	INTCON,INTF	;36 cycles, 4.500 us, 2.203 bit cells
	goto	RecvMfm3_00	;37 cycles, 4.625 us, 2.264 bit cells
	btfsc	INTCON,INTF	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfm3_00	;39 cycles, 4.875 us, 2.387 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm2_1
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00100000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm3_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm3_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm3_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm3_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm3_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm3_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm3_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm3_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm3_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm3_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm3_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm3_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm3_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm3_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm3_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm3_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm2_01
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00010000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm4_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm4_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm4_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm4_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm4_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm4_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm4_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm4_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm4_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm4_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm4_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm4_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm4_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm4_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm4_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm4_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm3_0
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfm4_0	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm4_0	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm4_0	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm4_0	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm4_0	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm4_0	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm4_0	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm4_0	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm4_0	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm4_01	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm4_01	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm4_01	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm4_01	;31 cycles, 3.875 us, 1.897 bit cells
	btfsc	INTCON,INTF	;32 cycles, 4.000 us, 1.958 bit cells
	goto	RecvMfm4_00	;33 cycles, 4.125 us, 2.020 bit cells
	btfsc	INTCON,INTF	;34 cycles, 4.250 us, 2.081 bit cells
	goto	RecvMfm4_00	;35 cycles, 4.375 us, 2.142 bit cells
	btfsc	INTCON,INTF	;36 cycles, 4.500 us, 2.203 bit cells
	goto	RecvMfm4_00	;37 cycles, 4.625 us, 2.264 bit cells
	btfsc	INTCON,INTF	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfm4_00	;39 cycles, 4.875 us, 2.387 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm3_1
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00010000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm4_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm4_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm4_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm4_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm4_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm4_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm4_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm4_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm4_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm4_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm4_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm4_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm4_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm4_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm4_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm4_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm3_01
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00001000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm5_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm5_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm5_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm5_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm5_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm5_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm5_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm5_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm5_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm5_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm5_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm5_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm5_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm5_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm5_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm5_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm3_00
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfm5_0	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm5_0	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm5_0	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm5_0	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm5_0	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm5_0	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm5_0	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm5_0	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm5_0	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm5_01	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm5_01	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm5_01	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm5_01	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm4_0
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfm5_0	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm5_0	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm5_0	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm5_0	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm5_0	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm5_0	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm5_0	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm5_0	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm5_0	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm5_01	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm5_01	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm5_01	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm5_01	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm4_1
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00001000'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm5_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm5_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm5_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm5_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm5_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm5_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm5_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm5_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm5_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm5_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm5_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm5_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm5_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm5_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm5_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm5_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm4_01
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00000100'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm6_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm6_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm6_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm6_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm6_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm6_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm6_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm6_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm6_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm6_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm6_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm6_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm6_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm6_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm6_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm6_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm4_00
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfm6_0	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm6_0	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm6_0	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm6_0	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm6_0	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm6_0	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm6_0	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm6_0	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm6_0	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm6_01	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm6_01	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm6_01	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm6_01	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm5_0
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfm6_0	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm6_0	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm6_0	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm6_0	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm6_0	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm6_0	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm6_0	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm6_0	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm6_0	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm6_01	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm6_01	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm6_01	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm6_01	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm5_1
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00000100'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm6_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm6_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm6_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm6_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm6_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm6_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm6_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm6_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm6_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm6_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm6_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm6_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm6_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm6_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm6_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm6_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm5_01
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00000010'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm7_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm7_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm7_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm7_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm7_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm7_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm7_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm7_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm7_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm7_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm7_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm7_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm7_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm7_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm7_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm7_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm6_0
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	btfsc	INTCON,INTF	;06 cycles, 0.750 us, 0.367 bit cells
	goto	RecvMfm7_0	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm7_0	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm7_0	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm7_0	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm7_0	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm7_0	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm7_0	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm7_0	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm7_0	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm7_01	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm7_01	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm7_01	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm7_01	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm6_1
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	nop			;05 cycles, 0.625 us, 0.306 bit cells
	iorlw	B'00000010'	;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm7_1	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm7_1	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm7_1	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm7_1	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm7_1	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm7_1	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm7_1	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm7_1	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm7_0	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm7_0	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm7_0	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm7_0	;30 cycles, 3.750 us, 1.836 bit cells
	btfsc	INTCON,INTF	;31 cycles, 3.875 us, 1.897 bit cells
	goto	RecvMfm7_01	;32 cycles, 4.000 us, 1.958 bit cells
	btfsc	INTCON,INTF	;33 cycles, 4.125 us, 2.020 bit cells
	goto	RecvMfm7_01	;34 cycles, 4.250 us, 2.081 bit cells
	btfsc	INTCON,INTF	;35 cycles, 4.375 us, 2.142 bit cells
	goto	RecvMfm7_01	;36 cycles, 4.500 us, 2.203 bit cells
	btfsc	INTCON,INTF	;37 cycles, 4.625 us, 2.264 bit cells
	goto	RecvMfm7_01	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm6_01
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	iorlw	B'00000001'	;05 cycles, 0.625 us, 0.306 bit cells
	movwf	INDF1		;06 cycles, 0.750 us, 0.367 bit cells
	nop			;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm0_1	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm0_1	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm0_1	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm0_1	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm0_1	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm0_1	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm0_1	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm0_1	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm0_0	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm0_0	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm0_0	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm0_0	;31 cycles, 3.875 us, 1.897 bit cells
	btfsc	INTCON,INTF	;32 cycles, 4.000 us, 1.958 bit cells
	goto	RecvMfm0_01	;33 cycles, 4.125 us, 2.020 bit cells
	btfsc	INTCON,INTF	;34 cycles, 4.250 us, 2.081 bit cells
	goto	RecvMfm0_01	;35 cycles, 4.375 us, 2.142 bit cells
	btfsc	INTCON,INTF	;36 cycles, 4.500 us, 2.203 bit cells
	goto	RecvMfm0_01	;37 cycles, 4.625 us, 2.264 bit cells
	btfsc	INTCON,INTF	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfm0_01	;39 cycles, 4.875 us, 2.387 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm7_0
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	movwf	INDF1		;05 cycles, 0.625 us, 0.306 bit cells
	nop			;06 cycles, 0.750 us, 0.367 bit cells
	btfsc	INTCON,INTF	;07 cycles, 0.875 us, 0.428 bit cells
	goto	RecvMfm0_0	;08 cycles, 1.000 us, 0.490 bit cells
	btfsc	INTCON,INTF	;09 cycles, 1.125 us, 0.551 bit cells
	goto	RecvMfm0_0	;10 cycles, 1.250 us, 0.612 bit cells
	btfsc	INTCON,INTF	;11 cycles, 1.375 us, 0.673 bit cells
	goto	RecvMfm0_0	;12 cycles, 1.500 us, 0.734 bit cells
	btfsc	INTCON,INTF	;13 cycles, 1.625 us, 0.796 bit cells
	goto	RecvMfm0_0	;14 cycles, 1.750 us, 0.857 bit cells
	btfsc	INTCON,INTF	;15 cycles, 1.875 us, 0.918 bit cells
	goto	RecvMfm0_0	;16 cycles, 2.000 us, 0.979 bit cells
	btfsc	INTCON,INTF	;17 cycles, 2.125 us, 1.040 bit cells
	goto	RecvMfm0_0	;18 cycles, 2.250 us, 1.102 bit cells
	btfsc	INTCON,INTF	;19 cycles, 2.375 us, 1.163 bit cells
	goto	RecvMfm0_0	;20 cycles, 2.500 us, 1.224 bit cells
	btfsc	INTCON,INTF	;21 cycles, 2.625 us, 1.285 bit cells
	goto	RecvMfm0_0	;22 cycles, 2.750 us, 1.346 bit cells
	btfsc	INTCON,INTF	;23 cycles, 2.875 us, 1.408 bit cells
	goto	RecvMfm0_01	;24 cycles, 3.000 us, 1.469 bit cells
	btfsc	INTCON,INTF	;25 cycles, 3.125 us, 1.530 bit cells
	goto	RecvMfm0_01	;26 cycles, 3.250 us, 1.591 bit cells
	btfsc	INTCON,INTF	;27 cycles, 3.375 us, 1.652 bit cells
	goto	RecvMfm0_01	;28 cycles, 3.500 us, 1.714 bit cells
	btfsc	INTCON,INTF	;29 cycles, 3.625 us, 1.775 bit cells
	goto	RecvMfm0_01	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm7_1
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	iorlw	B'00000001'	;05 cycles, 0.625 us, 0.306 bit cells
	movwf	INDF1		;06 cycles, 0.750 us, 0.367 bit cells
	nop			;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm0_1	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm0_1	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm0_1	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm0_1	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm0_1	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm0_1	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm0_1	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm0_1	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm0_0	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm0_0	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm0_0	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm0_0	;31 cycles, 3.875 us, 1.897 bit cells
	btfsc	INTCON,INTF	;32 cycles, 4.000 us, 1.958 bit cells
	goto	RecvMfm0_01	;33 cycles, 4.125 us, 2.020 bit cells
	btfsc	INTCON,INTF	;34 cycles, 4.250 us, 2.081 bit cells
	goto	RecvMfm0_01	;35 cycles, 4.375 us, 2.142 bit cells
	btfsc	INTCON,INTF	;36 cycles, 4.500 us, 2.203 bit cells
	goto	RecvMfm0_01	;37 cycles, 4.625 us, 2.264 bit cells
	btfsc	INTCON,INTF	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfm0_01	;39 cycles, 4.875 us, 2.387 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync

RecvMfm7_01
	bcf	INTCON,INTF	;04 cycles, 0.500 us, 0.245 bit cells
	movwf	INDF1		;05 cycles, 0.625 us, 0.306 bit cells
	nop			;06 cycles, 0.750 us, 0.367 bit cells
	movlw	B'10000000'	;07 cycles, 0.875 us, 0.428 bit cells
	btfsc	INTCON,INTF	;08 cycles, 1.000 us, 0.490 bit cells
	goto	RecvMfm1_1	;09 cycles, 1.125 us, 0.551 bit cells
	btfsc	INTCON,INTF	;10 cycles, 1.250 us, 0.612 bit cells
	goto	RecvMfm1_1	;11 cycles, 1.375 us, 0.673 bit cells
	btfsc	INTCON,INTF	;12 cycles, 1.500 us, 0.734 bit cells
	goto	RecvMfm1_1	;13 cycles, 1.625 us, 0.796 bit cells
	btfsc	INTCON,INTF	;14 cycles, 1.750 us, 0.857 bit cells
	goto	RecvMfm1_1	;15 cycles, 1.875 us, 0.918 bit cells
	btfsc	INTCON,INTF	;16 cycles, 2.000 us, 0.979 bit cells
	goto	RecvMfm1_1	;17 cycles, 2.125 us, 1.040 bit cells
	btfsc	INTCON,INTF	;18 cycles, 2.250 us, 1.102 bit cells
	goto	RecvMfm1_1	;19 cycles, 2.375 us, 1.163 bit cells
	btfsc	INTCON,INTF	;20 cycles, 2.500 us, 1.224 bit cells
	goto	RecvMfm1_1	;21 cycles, 2.625 us, 1.285 bit cells
	btfsc	INTCON,INTF	;22 cycles, 2.750 us, 1.346 bit cells
	goto	RecvMfm1_1	;23 cycles, 2.875 us, 1.408 bit cells
	btfsc	INTCON,INTF	;24 cycles, 3.000 us, 1.469 bit cells
	goto	RecvMfm1_0	;25 cycles, 3.125 us, 1.530 bit cells
	btfsc	INTCON,INTF	;26 cycles, 3.250 us, 1.591 bit cells
	goto	RecvMfm1_0	;27 cycles, 3.375 us, 1.652 bit cells
	btfsc	INTCON,INTF	;28 cycles, 3.500 us, 1.714 bit cells
	goto	RecvMfm1_0	;29 cycles, 3.625 us, 1.775 bit cells
	btfsc	INTCON,INTF	;30 cycles, 3.750 us, 1.836 bit cells
	goto	RecvMfm1_0	;31 cycles, 3.875 us, 1.897 bit cells
	btfsc	INTCON,INTF	;32 cycles, 4.000 us, 1.958 bit cells
	goto	RecvMfm1_01	;33 cycles, 4.125 us, 2.020 bit cells
	btfsc	INTCON,INTF	;34 cycles, 4.250 us, 2.081 bit cells
	goto	RecvMfm1_01	;35 cycles, 4.375 us, 2.142 bit cells
	btfsc	INTCON,INTF	;36 cycles, 4.500 us, 2.203 bit cells
	goto	RecvMfm1_01	;37 cycles, 4.625 us, 2.264 bit cells
	btfsc	INTCON,INTF	;38 cycles, 4.750 us, 2.326 bit cells
	goto	RecvMfm1_01	;39 cycles, 4.875 us, 2.387 bit cells
	goto	RecvMfmRestart	;Too long between transitions, lose sync


;;; GCR Floppy State Machine ;;;

	org	0x800

GFSStart
	clrf	FSR0L		;05 Prepare to get a byte
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low GFSAwaitD5	;11-12

GFSAwaitD5
	nop			;05
	movf	FSR0L,W		;06 Take last received byte
	iorlw	B'10000000'	;07 Set its MSB
	movwf	INDF1		;08 Write it to UART as-is
	movwf	X0		;09 Save it for later
	clrf	FSR0L		;10 Prepare to receive new byte's bits
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
GFSAD50	movf	X0,W		;06 If the received byte is an 0xD5, wait for an
	xorlw	0xD5		;07  0xAA; else keep waiting for an 0xD5
	movlw	low GFSAwaitD5	;08  "
	btfsc	STATUS,Z	;09  "
	movlw	low GFSAwaitAA	;10  "
	return			;11-12

GFSAwaitAA
	nop			;05
	movf	FSR0L,W		;06 Take last received byte
	iorlw	B'10000000'	;07 Set its MSB
	movwf	INDF1		;08 Write it to UART as-is
	movwf	X0		;09 Save it for later
	clrf	FSR0L		;10 Prepare to receive new byte's bits
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	movf	X0,W		;06 If the received byte is an 0xAA, wait for an
	xorlw	0xAA		;07  0x96 or an 0xAD; else check whether it was
	movlw	low GFSAD50	;08  an 0xD5
	btfsc	STATUS,Z	;09  "
	movlw	low GFSAAA0	;10  "
	return			;11-12
GFSAAA0	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low GFSAwait96AD;11-12

GFSAwait96AD
	nop			;05
	movf	FSR0L,W		;06 Take last received byte
	iorlw	B'10000000'	;07 Set its MSB
	movwf	INDF1		;08 Write it to UART as-is
	movwf	X0		;09 Save it for later
	clrf	FSR0L		;10 Prepare to receive new byte's bits
	retlw	low $+1		;11-12
	movf	X0,W		;06 If byte is an 0x96, this is the start of an
	xorlw	0x96		;07  address mark, branch ahead; else, check if
	movlw	low GFSA960	;08  it's an 0xAD
	btfsc	STATUS,Z	;09  "
	movlw	low GFSA961	;10  "
	return			;11-12
GFSA960	movf	X0,W		;06 If byte is an 0xAD, this is the start of a
	xorlw	0xAD		;07  data mark, branch ahead; else, check if
	movlw	low GFSAD50	;08  it's an 0xD5
	btfsc	STATUS,Z	;09  "
	movlw	low GFSA962	;10  "
	return			;11-12
GFSA961	movlw	5		;06 Load the counter for the five nibbles in an
	movwf	X1		;07  address mark
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low GFSAddrMark	;11-12
GFSA962	movlw	175		;06 Load the counter for the 174 trios plus a
	movwf	X1		;07  duo in a data mark
	DNOP			;08-09
	nop			;10
	retlw	low GFSDataSec	;11-12

GFSAddrMark
	nop			;05
	movf	INDF0,W		;06-07 Take nibble representation of last byte
	movwf	X0		;08 Save it for later
	clrf	FSR0L		;09 Prepare to receive new byte's bits
	nop			;10
	retlw	low $+1		;11-12
	movlw	low GFSAM1	;06 If the MSB is set, this is not a nibble,
	btfsc	X0,7		;07  break out of decoding
	movlw	low GFSAM0	;08  "
	DNOP			;09-10
	return			;11-12
GFSAM0	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low GFSAD50	;11-12
GFSAM1	movf	X0,W		;06 Take the nibble representation of the byte
	movwf	INDF1		;07 Write it to UART
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	movlw	low GFSAwaitD5	;06 If we've received all the bytes in the
	decfsz	X1,F		;07  address mark, go back to await an 0xD5,
	movlw	low GFSAddrMark	;08  else loop back for the next byte
	DNOP			;09-10
	return			;11-12

GFSDataSec
	nop			;05
	movf	INDF0,W		;06-07 Take nibble representation of last byte
	movwf	X0		;08 Save it for later
	clrf	FSR0L		;09 Prepare to receive new byte's bits
	nop			;10
	retlw	low $+1		;11-12
	movlw	low GFSDS0	;06 If the MSB is set, this is not a nibble,
	btfsc	X0,7		;07  break out of decoding
	movlw	low GFSAM0	;08  "
	DNOP			;09-10
	return			;11-12
GFSDS0	movf	X0,W		;06 Take the nibble representation of the byte
	movwf	INDF1		;07 Write it to UART
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low GFSDataBits	;11-12

GFSDataBits
	nop			;05
	movf	INDF0,W		;06-07 Take nibble representation of last byte
	movwf	X2		;08 Save it for later
	movwf	X0		;09 Here too in case it's not a valid nibble
	clrf	FSR0L		;10 Prepare to receive new byte's bits
	retlw	low $+1		;11-12
	movlw	low GFSDBi0	;06 If the MSB is set, this is not a nibble,
	btfsc	X0,7		;07  break out of decoding
	movlw	low GFSAM0	;08  "
	DNOP			;09-10
	return			;11-12
GFSDBi0	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low $+1		;11-12
	DNOP			;06-07
	DNOP			;08-09
	nop			;10
	retlw	low GFSDataA	;11-12

GFSDataA
	nop			;05
	movf	INDF0,W		;06-07 Take nibble representation of last byte
	movwf	X0		;08 Save it for later
	clrf	FSR0L		;09 Prepare to receive new byte's bits
	nop			;10
	retlw	low $+1		;11-12
	movlw	low GFSDA0	;06 If the MSB is set, this is not a nibble,
	btfsc	X0,7		;07  break out of decoding
	movlw	low GFSAM0	;08  "
	DNOP			;09-10
	return			;11-12
GFSDA0	btfsc	X2,5		;06 Reinsert high bits into completed byte
	bsf	X0,7		;07  "
	btfsc	X2,4		;08  "
	bsf	X0,6		;09  "
	nop			;10
	retlw	low $+1		;11-12
	movf	X0,W		;06 Write the reconstructed byte to the UART
	movwf	INDF1		;07  "
	DNOP			;08-09
	nop			;10
	retlw	low GFSDataB	;11-12

GFSDataB
	nop			;05
	movf	INDF0,W		;06-07 Take nibble representation of last byte
	movwf	X0		;08 Save it for later
	clrf	FSR0L		;09 Prepare to receive new byte's bits
	nop			;10
	retlw	low $+1		;11-12
	movlw	low GFSDB0	;06 If the MSB is set, this is not a nibble,
	btfsc	X0,7		;07  break out of decoding
	movlw	low GFSAM0	;08  "
	DNOP			;09-10
	return			;11-12
GFSDB0	btfsc	X2,3		;06 Reinsert high bits into completed byte
	bsf	X0,7		;07  "
	btfsc	X2,2		;08  "
	bsf	X0,6		;09  "
	nop			;10
	retlw	low $+1		;11-12
	movf	X0,W		;06 Write the reconstructed byte to the UART
	movwf	INDF1		;07  "
	movlw	low GFSDataBits	;08 If this is the duo at the end of the 174
	decfsz	X1,F		;09  trios, transition to get high-bits for the
	movlw	low GFSDataC	;10  checksum, else transition to byte C
	return			;11-12

GFSDataC
	nop			;05
	movf	INDF0,W		;06-07 Take nibble representation of last byte
	movwf	X0		;08 Save it for later
	clrf	FSR0L		;09 Prepare to receive new byte's bits
	nop			;10
	retlw	low $+1		;11-12
	movlw	low GFSDC0	;06 If the MSB is set, this is not a nibble,
	btfsc	X0,7		;07  break out of decoding
	movlw	low GFSAM0	;08  "
	DNOP			;09-10
	return			;11-12
GFSDC0	btfsc	X2,1		;06 Reinsert high bits into completed byte
	bsf	X0,7		;07  "
	btfsc	X2,0		;08  "
	bsf	X0,6		;09  "
	nop			;10
	retlw	low $+1		;11-12
	movf	X0,W		;06 Write the reconstructed byte to the UART
	movwf	INDF1		;07  "
	movlw	low GFSAwaitD5	;08 If this is the last byte of the checksum,
	incfsz	X1,F		;09  transition out of byte-reconstruction and
	movlw	low GFSDataBits2;10  wait for 0xD5, else transition to high-bits
	return			;11-12

GFSDataBits2
	nop			;05
	movf	INDF0,W		;06-07 Take nibble representation of last byte
	movwf	X2		;08 Save it for later
	movwf	X0		;09 Here too in case it's not a valid nibble
	clrf	FSR0L		;10 Prepare to receive new byte's bits
	retlw	low $+1		;11-12
	decf	X1,F		;06 Restore the counter from incrementing
	movlw	low GFSDBi0	;07 If the MSB is set, this is not a nibble,
	btfsc	X0,7		;08  break out of decoding
	movlw	low GFSAM0	;09  "
	nop			;10
	return			;11-12


;;; GCR Floppy Receiver ;;;

GcrRecvFDD
	movlp	high GFSStart	;Point W to GCR floppy state machine
	movlw	low GFSStart	; "
	movlb	0		;Bank 0 so NWR_PORT is accessible
GcrSt0	btfss	NWR_PORT,NWR_PIN;Signal starts at zero, wait until transition
	bra	$-1		; to one, this is MSB (always 1) of first byte
	callw			;003-012 cycles, 0.18-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr1F6		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr1F6		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr1F6		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr1F6		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr1F6		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr1F6		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr1F5		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr1F5		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr1F5		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr1F5		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr1F5		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr1F5		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr1F5		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr1F5		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr1F4		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr1F4		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr1F4		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr1F4		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr1F4		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr1F4		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr1F4		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr1F4		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr1F4		;058 cycles, 3.55 bit times
	DELAY	21		;059-121 cycles, 3.61-7.40 bit times
	btfsc	NWR_PORT,NWR_PIN;122 cycles, 7.47 bit times
	goto	GcrSt1		;123 cycles, 7.53 bit times
	goto	GcrSt0		;124 cycles, 7.59 bit times
Gcr1R6	bsf	FSR0L,6		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr2F5		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr2F5		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr2F5		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr2F5		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr2F5		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr2F5		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr2F4		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr2F4		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr2F4		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr2F4		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr2F4		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr2F4		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr2F4		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr2F4		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr2F3		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr2F3		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr2F3		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr2F3		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr2F3		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr2F3		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr2F3		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr2F3		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr2F3		;058 cycles, 3.55 bit times
	DELAY	15		;059-103 cycles, 3.61-6.30 bit times
	DNOP			;104-105 cycles, 6.36-6.43 bit times
	btfsc	NWR_PORT,NWR_PIN;106 cycles, 6.49 bit times
	goto	GcrSt1		;107 cycles, 6.55 bit times
	goto	GcrSt0		;108 cycles, 6.61 bit times
Gcr1R5	bsf	FSR0L,5		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr2F4		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr2F4		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr2F4		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr2F4		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr2F4		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr2F4		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr2F3		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr2F3		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr2F3		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr2F3		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr2F3		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr2F3		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr2F3		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr2F3		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr2F2		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr2F2		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr2F2		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr2F2		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr2F2		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr2F2		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr2F2		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr2F2		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr2F2		;058 cycles, 3.55 bit times
	DELAY	10		;059-088 cycles, 3.61-5.39 bit times
	nop			;089 cycles, 5.45 bit times
	btfsc	NWR_PORT,NWR_PIN;090 cycles, 5.51 bit times
	goto	GcrSt1		;091 cycles, 5.57 bit times
	goto	GcrSt0		;092 cycles, 5.63 bit times
Gcr1R4	bsf	FSR0L,4		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr2F3		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr2F3		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr2F3		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr2F3		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr2F3		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr2F3		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr2F2		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr2F2		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr2F2		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr2F2		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr2F2		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr2F2		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr2F2		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr2F2		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr2F1		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr2F1		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr2F1		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr2F1		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr2F1		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr2F1		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr2F1		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr2F1		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr2F1		;058 cycles, 3.55 bit times
	DELAY	5		;059-073 cycles, 3.61-4.47 bit times
	nop			;074 cycles, 4.53 bit times
	btfsc	NWR_PORT,NWR_PIN;075 cycles, 4.59 bit times
	goto	GcrSt1		;076 cycles, 4.65 bit times
	goto	GcrSt0		;077 cycles, 4.71 bit times
Gcr2R5	bsf	FSR0L,5		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3F4		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3F4		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3F4		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3F4		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3F4		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3F4		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr3F3		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr3F3		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr3F3		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr3F3		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr3F3		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr3F3		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr3F3		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr3F3		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr3F2		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr3F2		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr3F2		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr3F2		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr3F2		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr3F2		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr3F2		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr3F2		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr3F2		;058 cycles, 3.55 bit times
	DELAY	10		;059-088 cycles, 3.61-5.39 bit times
	nop			;089 cycles, 5.45 bit times
	btfsc	NWR_PORT,NWR_PIN;090 cycles, 5.51 bit times
	goto	GcrSt1		;091 cycles, 5.57 bit times
	goto	GcrSt0		;092 cycles, 5.63 bit times
Gcr2R4	bsf	FSR0L,4		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3F3		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3F3		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3F3		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3F3		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3F3		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3F3		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr3F2		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr3F2		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr3F2		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr3F2		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr3F2		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr3F2		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr3F2		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr3F2		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr3F1		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr3F1		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr3F1		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr3F1		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr3F1		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr3F1		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr3F1		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr3F1		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr3F1		;058 cycles, 3.55 bit times
	DELAY	5		;059-073 cycles, 3.61-4.47 bit times
	nop			;074 cycles, 4.53 bit times
	btfsc	NWR_PORT,NWR_PIN;075 cycles, 4.59 bit times
	goto	GcrSt1		;076 cycles, 4.65 bit times
	goto	GcrSt0		;077 cycles, 4.71 bit times
Gcr2R3	bsf	FSR0L,3		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3F2		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3F2		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3F2		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3F2		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3F2		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3F2		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr3F1		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr3F1		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr3F1		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr3F1		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr3F1		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr3F1		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr3F1		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr3F1		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr3F0		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr3F0		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr3F0		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr3F0		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr3F0		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr3F0		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr3F0		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr3F0		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr3F0		;058 cycles, 3.55 bit times
	movlw	0		;059 cycles, 3.61 bit times
	btfsc	NWR_PORT,NWR_PIN;060 cycles, 3.67 bit times
	goto	GcrSt1		;061 cycles, 3.73 bit times
	goto	GcrSt0		;062 cycles, 3.79 bit times
Gcr2R2	bsf	FSR0L,2		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3F1		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3F1		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3F1		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3F1		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3F1		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3F1		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr3F0		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr3F0		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr3F0		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr3F0		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr3F0		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr3F0		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr3F0		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr3F0		;040 cycles, 2.45 bit times
	movlw	0		;041 cycles, 2.51 bit times
	btfsc	NWR_PORT,NWR_PIN;042 cycles, 2.57 bit times
	goto	GcrSt1		;043 cycles, 2.63 bit times
	goto	GcrSt0		;044 cycles, 2.69 bit times
Gcr2R1	bsf	FSR0L,1		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3F0		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3F0		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3F0		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3F0		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3F0		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3F0		;024 cycles, 1.47 bit times
	movlw	0		;025 cycles, 1.53 bit times
	btfsc	NWR_PORT,NWR_PIN;026 cycles, 1.59 bit times
	goto	GcrSt1		;027 cycles, 1.65 bit times
	goto	GcrSt0		;028 cycles, 1.71 bit times
Gcr3R4	bsf	FSR0L,4		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4F3		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4F3		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4F3		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4F3		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4F3		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4F3		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4F2		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4F2		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4F2		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4F2		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4F2		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4F2		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4F2		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4F2		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr4F1		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr4F1		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr4F1		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr4F1		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr4F1		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr4F1		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr4F1		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr4F1		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr4F1		;058 cycles, 3.55 bit times
	btfss	NWR_PORT,NWR_PIN;059 cycles, 3.61 bit times
	goto	Gcr4F0		;060 cycles, 3.67 bit times
	btfss	NWR_PORT,NWR_PIN;061 cycles, 3.73 bit times
	goto	Gcr4F0		;062 cycles, 3.79 bit times
	btfss	NWR_PORT,NWR_PIN;063 cycles, 3.86 bit times
	goto	Gcr4F0		;064 cycles, 3.92 bit times
	btfss	NWR_PORT,NWR_PIN;065 cycles, 3.98 bit times
	goto	Gcr4F0		;066 cycles, 4.04 bit times
	btfss	NWR_PORT,NWR_PIN;067 cycles, 4.10 bit times
	goto	Gcr4F0		;068 cycles, 4.16 bit times
	btfss	NWR_PORT,NWR_PIN;069 cycles, 4.22 bit times
	goto	Gcr4F0		;070 cycles, 4.28 bit times
	btfss	NWR_PORT,NWR_PIN;071 cycles, 4.35 bit times
	goto	Gcr4F0		;072 cycles, 4.41 bit times
	btfss	NWR_PORT,NWR_PIN;073 cycles, 4.47 bit times
	goto	Gcr4F0		;074 cycles, 4.53 bit times
	goto	GcrSt1		;075 cycles, 4.59 bit times
Gcr3R3	bsf	FSR0L,3		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4F2		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4F2		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4F2		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4F2		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4F2		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4F2		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4F1		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4F1		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4F1		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4F1		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4F1		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4F1		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4F1		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4F1		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr4F0		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr4F0		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr4F0		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr4F0		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr4F0		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr4F0		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr4F0		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr4F0		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr4F0		;058 cycles, 3.55 bit times
	goto	GcrSt1		;059 cycles, 3.61 bit times
Gcr3R2	bsf	FSR0L,2		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4F1		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4F1		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4F1		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4F1		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4F1		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4F1		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4F0		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4F0		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4F0		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4F0		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4F0		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4F0		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4F0		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4F0		;040 cycles, 2.45 bit times
	goto	GcrSt1		;041 cycles, 2.51 bit times
Gcr3R1	bsf	FSR0L,1		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4F0		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4F0		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4F0		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4F0		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4F0		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4F0		;024 cycles, 1.47 bit times
	goto	GcrSt1		;025 cycles, 1.53 bit times
Gcr3R0	bsf	FSR0L,0		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	goto	GcrSt1		;013 cycles, 0.80 bit times
Gcr4R3	bsf	FSR0L,3		;003 cycles, 0.18 bit times
	DNOP			;004-005 cycles, 0.24-0.31 bit times
	DNOP			;006-007 cycles, 0.37-0.43 bit times
	DNOP			;008-009 cycles, 0.49-0.55 bit times
	DNOP			;010-011 cycles, 0.61-0.67 bit times
	nop			;012 cycles, 0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4F2		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4F2		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4F2		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4F2		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4F2		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4F2		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4F1		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4F1		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4F1		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4F1		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4F1		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4F1		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4F1		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4F1		;040 cycles, 2.45 bit times
	btfss	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr4F0		;042 cycles, 2.57 bit times
	btfss	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr4F0		;044 cycles, 2.69 bit times
	btfss	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr4F0		;046 cycles, 2.82 bit times
	btfss	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr4F0		;048 cycles, 2.94 bit times
	btfss	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr4F0		;050 cycles, 3.06 bit times
	btfss	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr4F0		;052 cycles, 3.18 bit times
	btfss	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr4F0		;054 cycles, 3.30 bit times
	btfss	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr4F0		;056 cycles, 3.43 bit times
	btfss	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr4F0		;058 cycles, 3.55 bit times
	goto	GcrSt1		;059 cycles, 3.61 bit times
Gcr4R2	bsf	FSR0L,2		;003 cycles, 0.18 bit times
	DNOP			;004-005 cycles, 0.24-0.31 bit times
	DNOP			;006-007 cycles, 0.37-0.43 bit times
	DNOP			;008-009 cycles, 0.49-0.55 bit times
	DNOP			;010-011 cycles, 0.61-0.67 bit times
	nop			;012 cycles, 0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4F1		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4F1		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4F1		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4F1		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4F1		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4F1		;024 cycles, 1.47 bit times
	btfss	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4F0		;026 cycles, 1.59 bit times
	btfss	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4F0		;028 cycles, 1.71 bit times
	btfss	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4F0		;030 cycles, 1.84 bit times
	btfss	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4F0		;032 cycles, 1.96 bit times
	btfss	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4F0		;034 cycles, 2.08 bit times
	btfss	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4F0		;036 cycles, 2.20 bit times
	btfss	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4F0		;038 cycles, 2.33 bit times
	btfss	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4F0		;040 cycles, 2.45 bit times
	goto	GcrSt1		;041 cycles, 2.51 bit times
Gcr4R1	bsf	FSR0L,1		;003 cycles, 0.18 bit times
	DNOP			;004-005 cycles, 0.24-0.31 bit times
	DNOP			;006-007 cycles, 0.37-0.43 bit times
	DNOP			;008-009 cycles, 0.49-0.55 bit times
	DNOP			;010-011 cycles, 0.61-0.67 bit times
	nop			;012 cycles, 0.73 bit times
	btfss	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4F0		;014 cycles, 0.86 bit times
	btfss	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4F0		;016 cycles, 0.98 bit times
	btfss	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4F0		;018 cycles, 1.10 bit times
	btfss	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4F0		;020 cycles, 1.22 bit times
	btfss	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4F0		;022 cycles, 1.35 bit times
	btfss	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4F0		;024 cycles, 1.47 bit times
	goto	GcrSt1		;025 cycles, 1.53 bit times
Gcr4R0	bsf	FSR0L,0		;003 cycles, 0.18 bit times
GcrSt1	btfsc	NWR_PORT,NWR_PIN;Signal starts at one, wait until transition
	bra	$-1		; to zero, this is MSB (always 1) of first byte
	callw			;003-012 cycles, 0.18-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr1R6		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr1R6		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr1R6		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr1R6		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr1R6		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr1R6		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr1R5		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr1R5		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr1R5		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr1R5		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr1R5		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr1R5		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr1R5		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr1R5		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr1R4		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr1R4		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr1R4		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr1R4		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr1R4		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr1R4		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr1R4		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr1R4		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr1R4		;058 cycles, 3.55 bit times
	DELAY	21		;059-121 cycles, 3.61-7.40 bit times
	btfsc	NWR_PORT,NWR_PIN;122 cycles, 7.47 bit times
	goto	GcrSt1		;123 cycles, 7.53 bit times
	goto	GcrSt0		;124 cycles, 7.59 bit times
Gcr1F6	bsf	FSR0L,6		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr2R5		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr2R5		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr2R5		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr2R5		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr2R5		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr2R5		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr2R4		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr2R4		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr2R4		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr2R4		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr2R4		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr2R4		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr2R4		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr2R4		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr2R3		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr2R3		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr2R3		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr2R3		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr2R3		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr2R3		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr2R3		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr2R3		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr2R3		;058 cycles, 3.55 bit times
	DELAY	15		;059-103 cycles, 3.61-6.30 bit times
	DNOP			;104-105 cycles, 6.36-6.43 bit times
	btfsc	NWR_PORT,NWR_PIN;106 cycles, 6.49 bit times
	goto	GcrSt1		;107 cycles, 6.55 bit times
	goto	GcrSt0		;108 cycles, 6.61 bit times
Gcr1F5	bsf	FSR0L,5		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr2R4		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr2R4		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr2R4		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr2R4		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr2R4		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr2R4		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr2R3		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr2R3		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr2R3		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr2R3		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr2R3		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr2R3		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr2R3		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr2R3		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr2R2		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr2R2		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr2R2		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr2R2		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr2R2		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr2R2		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr2R2		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr2R2		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr2R2		;058 cycles, 3.55 bit times
	DELAY	10		;059-088 cycles, 3.61-5.39 bit times
	nop			;089 cycles, 5.45 bit times
	btfsc	NWR_PORT,NWR_PIN;090 cycles, 5.51 bit times
	goto	GcrSt1		;091 cycles, 5.57 bit times
	goto	GcrSt0		;092 cycles, 5.63 bit times
Gcr1F4	bsf	FSR0L,4		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr2R3		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr2R3		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr2R3		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr2R3		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr2R3		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr2R3		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr2R2		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr2R2		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr2R2		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr2R2		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr2R2		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr2R2		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr2R2		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr2R2		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr2R1		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr2R1		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr2R1		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr2R1		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr2R1		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr2R1		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr2R1		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr2R1		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr2R1		;058 cycles, 3.55 bit times
	DELAY	5		;059-073 cycles, 3.61-4.47 bit times
	nop			;074 cycles, 4.53 bit times
	btfsc	NWR_PORT,NWR_PIN;075 cycles, 4.59 bit times
	goto	GcrSt1		;076 cycles, 4.65 bit times
	goto	GcrSt0		;077 cycles, 4.71 bit times
Gcr2F5	bsf	FSR0L,5		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3R4		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3R4		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3R4		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3R4		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3R4		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3R4		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr3R3		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr3R3		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr3R3		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr3R3		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr3R3		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr3R3		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr3R3		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr3R3		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr3R2		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr3R2		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr3R2		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr3R2		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr3R2		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr3R2		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr3R2		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr3R2		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr3R2		;058 cycles, 3.55 bit times
	DELAY	10		;059-088 cycles, 3.61-5.39 bit times
	nop			;089 cycles, 5.45 bit times
	btfsc	NWR_PORT,NWR_PIN;090 cycles, 5.51 bit times
	goto	GcrSt1		;091 cycles, 5.57 bit times
	goto	GcrSt0		;092 cycles, 5.63 bit times
Gcr2F4	bsf	FSR0L,4		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3R3		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3R3		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3R3		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3R3		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3R3		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3R3		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr3R2		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr3R2		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr3R2		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr3R2		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr3R2		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr3R2		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr3R2		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr3R2		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr3R1		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr3R1		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr3R1		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr3R1		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr3R1		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr3R1		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr3R1		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr3R1		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr3R1		;058 cycles, 3.55 bit times
	DELAY	5		;059-073 cycles, 3.61-4.47 bit times
	nop			;074 cycles, 4.53 bit times
	btfsc	NWR_PORT,NWR_PIN;075 cycles, 4.59 bit times
	goto	GcrSt1		;076 cycles, 4.65 bit times
	goto	GcrSt0		;077 cycles, 4.71 bit times
Gcr2F3	bsf	FSR0L,3		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3R2		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3R2		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3R2		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3R2		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3R2		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3R2		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr3R1		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr3R1		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr3R1		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr3R1		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr3R1		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr3R1		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr3R1		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr3R1		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr3R0		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr3R0		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr3R0		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr3R0		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr3R0		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr3R0		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr3R0		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr3R0		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr3R0		;058 cycles, 3.55 bit times
	movlw	0		;059 cycles, 3.61 bit times
	btfsc	NWR_PORT,NWR_PIN;060 cycles, 3.67 bit times
	goto	GcrSt1		;061 cycles, 3.73 bit times
	goto	GcrSt0		;062 cycles, 3.79 bit times
Gcr2F2	bsf	FSR0L,2		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3R1		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3R1		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3R1		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3R1		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3R1		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3R1		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr3R0		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr3R0		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr3R0		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr3R0		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr3R0		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr3R0		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr3R0		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr3R0		;040 cycles, 2.45 bit times
	movlw	0		;041 cycles, 2.51 bit times
	btfsc	NWR_PORT,NWR_PIN;042 cycles, 2.57 bit times
	goto	GcrSt1		;043 cycles, 2.63 bit times
	goto	GcrSt0		;044 cycles, 2.69 bit times
Gcr2F1	bsf	FSR0L,1		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr3R0		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr3R0		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr3R0		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr3R0		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr3R0		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr3R0		;024 cycles, 1.47 bit times
	movlw	0		;025 cycles, 1.53 bit times
	btfsc	NWR_PORT,NWR_PIN;026 cycles, 1.59 bit times
	goto	GcrSt1		;027 cycles, 1.65 bit times
	goto	GcrSt0		;028 cycles, 1.71 bit times
Gcr3F4	bsf	FSR0L,4		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4R3		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4R3		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4R3		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4R3		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4R3		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4R3		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4R2		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4R2		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4R2		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4R2		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4R2		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4R2		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4R2		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4R2		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr4R1		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr4R1		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr4R1		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr4R1		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr4R1		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr4R1		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr4R1		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr4R1		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr4R1		;058 cycles, 3.55 bit times
	btfsc	NWR_PORT,NWR_PIN;059 cycles, 3.61 bit times
	goto	Gcr4R0		;060 cycles, 3.67 bit times
	btfsc	NWR_PORT,NWR_PIN;061 cycles, 3.73 bit times
	goto	Gcr4R0		;062 cycles, 3.79 bit times
	btfsc	NWR_PORT,NWR_PIN;063 cycles, 3.86 bit times
	goto	Gcr4R0		;064 cycles, 3.92 bit times
	btfsc	NWR_PORT,NWR_PIN;065 cycles, 3.98 bit times
	goto	Gcr4R0		;066 cycles, 4.04 bit times
	btfsc	NWR_PORT,NWR_PIN;067 cycles, 4.10 bit times
	goto	Gcr4R0		;068 cycles, 4.16 bit times
	btfsc	NWR_PORT,NWR_PIN;069 cycles, 4.22 bit times
	goto	Gcr4R0		;070 cycles, 4.28 bit times
	btfsc	NWR_PORT,NWR_PIN;071 cycles, 4.35 bit times
	goto	Gcr4R0		;072 cycles, 4.41 bit times
	btfsc	NWR_PORT,NWR_PIN;073 cycles, 4.47 bit times
	goto	Gcr4R0		;074 cycles, 4.53 bit times
	goto	GcrSt0		;075 cycles, 4.59 bit times
Gcr3F3	bsf	FSR0L,3		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4R2		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4R2		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4R2		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4R2		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4R2		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4R2		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4R1		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4R1		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4R1		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4R1		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4R1		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4R1		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4R1		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4R1		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr4R0		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr4R0		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr4R0		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr4R0		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr4R0		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr4R0		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr4R0		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr4R0		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr4R0		;058 cycles, 3.55 bit times
	goto	GcrSt0		;059 cycles, 3.61 bit times
Gcr3F2	bsf	FSR0L,2		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4R1		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4R1		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4R1		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4R1		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4R1		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4R1		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4R0		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4R0		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4R0		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4R0		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4R0		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4R0		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4R0		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4R0		;040 cycles, 2.45 bit times
	goto	GcrSt0		;041 cycles, 2.51 bit times
Gcr3F1	bsf	FSR0L,1		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4R0		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4R0		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4R0		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4R0		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4R0		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4R0		;024 cycles, 1.47 bit times
	goto	GcrSt0		;025 cycles, 1.53 bit times
Gcr3F0	bsf	FSR0L,0		;003 cycles, 0.18 bit times
	callw			;004-012 cycles, 0.24-0.73 bit times
	goto	GcrSt0		;013 cycles, 0.80 bit times
Gcr4F3	bsf	FSR0L,3		;003 cycles, 0.18 bit times
	DNOP			;004-005 cycles, 0.24-0.31 bit times
	DNOP			;006-007 cycles, 0.37-0.43 bit times
	DNOP			;008-009 cycles, 0.49-0.55 bit times
	DNOP			;010-011 cycles, 0.61-0.67 bit times
	nop			;012 cycles, 0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4R2		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4R2		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4R2		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4R2		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4R2		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4R2		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4R1		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4R1		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4R1		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4R1		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4R1		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4R1		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4R1		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4R1		;040 cycles, 2.45 bit times
	btfsc	NWR_PORT,NWR_PIN;041 cycles, 2.51 bit times
	goto	Gcr4R0		;042 cycles, 2.57 bit times
	btfsc	NWR_PORT,NWR_PIN;043 cycles, 2.63 bit times
	goto	Gcr4R0		;044 cycles, 2.69 bit times
	btfsc	NWR_PORT,NWR_PIN;045 cycles, 2.75 bit times
	goto	Gcr4R0		;046 cycles, 2.82 bit times
	btfsc	NWR_PORT,NWR_PIN;047 cycles, 2.88 bit times
	goto	Gcr4R0		;048 cycles, 2.94 bit times
	btfsc	NWR_PORT,NWR_PIN;049 cycles, 3.00 bit times
	goto	Gcr4R0		;050 cycles, 3.06 bit times
	btfsc	NWR_PORT,NWR_PIN;051 cycles, 3.12 bit times
	goto	Gcr4R0		;052 cycles, 3.18 bit times
	btfsc	NWR_PORT,NWR_PIN;053 cycles, 3.24 bit times
	goto	Gcr4R0		;054 cycles, 3.30 bit times
	btfsc	NWR_PORT,NWR_PIN;055 cycles, 3.37 bit times
	goto	Gcr4R0		;056 cycles, 3.43 bit times
	btfsc	NWR_PORT,NWR_PIN;057 cycles, 3.49 bit times
	goto	Gcr4R0		;058 cycles, 3.55 bit times
	goto	GcrSt0		;059 cycles, 3.61 bit times
Gcr4F2	bsf	FSR0L,2		;003 cycles, 0.18 bit times
	DNOP			;004-005 cycles, 0.24-0.31 bit times
	DNOP			;006-007 cycles, 0.37-0.43 bit times
	DNOP			;008-009 cycles, 0.49-0.55 bit times
	DNOP			;010-011 cycles, 0.61-0.67 bit times
	nop			;012 cycles, 0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4R1		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4R1		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4R1		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4R1		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4R1		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4R1		;024 cycles, 1.47 bit times
	btfsc	NWR_PORT,NWR_PIN;025 cycles, 1.53 bit times
	goto	Gcr4R0		;026 cycles, 1.59 bit times
	btfsc	NWR_PORT,NWR_PIN;027 cycles, 1.65 bit times
	goto	Gcr4R0		;028 cycles, 1.71 bit times
	btfsc	NWR_PORT,NWR_PIN;029 cycles, 1.77 bit times
	goto	Gcr4R0		;030 cycles, 1.84 bit times
	btfsc	NWR_PORT,NWR_PIN;031 cycles, 1.90 bit times
	goto	Gcr4R0		;032 cycles, 1.96 bit times
	btfsc	NWR_PORT,NWR_PIN;033 cycles, 2.02 bit times
	goto	Gcr4R0		;034 cycles, 2.08 bit times
	btfsc	NWR_PORT,NWR_PIN;035 cycles, 2.14 bit times
	goto	Gcr4R0		;036 cycles, 2.20 bit times
	btfsc	NWR_PORT,NWR_PIN;037 cycles, 2.26 bit times
	goto	Gcr4R0		;038 cycles, 2.33 bit times
	btfsc	NWR_PORT,NWR_PIN;039 cycles, 2.39 bit times
	goto	Gcr4R0		;040 cycles, 2.45 bit times
	goto	GcrSt0		;041 cycles, 2.51 bit times
Gcr4F1	bsf	FSR0L,1		;003 cycles, 0.18 bit times
	DNOP			;004-005 cycles, 0.24-0.31 bit times
	DNOP			;006-007 cycles, 0.37-0.43 bit times
	DNOP			;008-009 cycles, 0.49-0.55 bit times
	DNOP			;010-011 cycles, 0.61-0.67 bit times
	nop			;012 cycles, 0.73 bit times
	btfsc	NWR_PORT,NWR_PIN;013 cycles, 0.80 bit times
	goto	Gcr4R0		;014 cycles, 0.86 bit times
	btfsc	NWR_PORT,NWR_PIN;015 cycles, 0.92 bit times
	goto	Gcr4R0		;016 cycles, 0.98 bit times
	btfsc	NWR_PORT,NWR_PIN;017 cycles, 1.04 bit times
	goto	Gcr4R0		;018 cycles, 1.10 bit times
	btfsc	NWR_PORT,NWR_PIN;019 cycles, 1.16 bit times
	goto	Gcr4R0		;020 cycles, 1.22 bit times
	btfsc	NWR_PORT,NWR_PIN;021 cycles, 1.29 bit times
	goto	Gcr4R0		;022 cycles, 1.35 bit times
	btfsc	NWR_PORT,NWR_PIN;023 cycles, 1.41 bit times
	goto	Gcr4R0		;024 cycles, 1.47 bit times
	goto	GcrSt0		;025 cycles, 1.53 bit times
Gcr4F0	bsf	FSR0L,0		;003 cycles, 0.18 bit times
	goto	GcrSt0		;004 cycles, 0.24 bit times


;;; Lookup Tables ;;;

	org	0xF00

;LUT for converting IWM bytes to GCR nibbles.  Valid bytes resolve to nibble
; with bits 6 and bit 7 clear, invalid bytes are unchanged from IWM (i.e. bit 7
; is set).
IwmToNibble
	dt	0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87
	dt	0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F
	dt	0x90,0x91,0x92,0x93,0x94,0x95,0x00,0x01
	dt	0x98,0x99,0x02,0x03,0x9C,0x04,0x05,0x06
	dt	0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0x07,0x08
	dt	0xA8,0xA9,0xAA,0x09,0x0A,0x0B,0x0C,0x0D
	dt	0xB0,0xB1,0x0E,0x0F,0x10,0x11,0x12,0x13
	dt	0xB8,0x14,0x15,0x16,0x17,0x18,0x19,0x1A
	dt	0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7
	dt	0xC8,0xC9,0xCA,0x1B,0xCC,0x1C,0x1D,0x1E
	dt	0xD0,0xD1,0xD2,0x1F,0xD4,0xD5,0x20,0x21
	dt	0xD8,0x22,0x23,0x24,0x25,0x26,0x27,0x28
	dt	0xE0,0xE1,0xE2,0xE3,0xE4,0x29,0x2A,0x2B
	dt	0xE8,0x2C,0x2D,0x2E,0x2F,0x30,0x31,0x32
	dt	0xF0,0xF1,0x33,0x34,0x35,0x36,0x37,0x38
	dt	0xF8,0x39,0x3A,0x3B,0x3C,0x3D,0x3E,0x3F

	org	0xFC0

;LUT for converting raw read from command port into command
PortToCmd
	#include	receiver_lut.inc	;Generated by pinout.py


;;; End of Program ;;;

	end
